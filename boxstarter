# Allow reboots when needed
$Boxstarter.RebootOk=$true

# Configure Windows
Set-WindowsExplorerOptions -EnableShowHiddenFilesFoldersDrives -EnableShowProtectedOSFiles -EnableShowFileExtensions -EnableShowFullPathInTitleBar

Update-ExecutionPolicy Unrestricted

cinst -y Microsoft-Hyper-V-All -source windowsFeatures

# Packages
cinst -y cmder -pre
cinst -y Gow

## Git
cinst -y git.install
cinst -y poshgit
cinst -y git-credential-manager-for-windows 

## Node, npm
cinst -y nodejs.install -version 4.5.0
cmd /c "refreshenv && npm install -g npm-windows-upgrade"
cmd /c "refreshenv && npm install -g npm@3.5.0"
cmd /c "refreshenv && npm install -g --production windows-build-tools"

## Java
cinst -y jdk8

## Editors
cinst -y intellijidea-community
cinst -y notepadplusplus.install
cinst -y sublimetext3

## Notes
cinst -y evernote

## Skype
cinst -y skype

## Ruby, Go, Python
cinst -y ruby
cinst -y ruby.devkit

cinst -y golang

cinst -y python2
cinst -y pip

if (Test-PendingReboot) { Invoke-Reboot }

## Basics
cinst -y vlc
cinst -y GoogleChrome
cinst -y firefox
cinst -y 7zip.install
cinst -y sysinternals
cinst -y DotNet3.5

if (Test-PendingReboot) { Invoke-Reboot }

# Pinning Things
Install-ChocolateyPinnedTaskBarItem "$env:programfiles\Google\Chrome\Application\chrome.exe"
Install-ChocolateyPinnedTaskBarItem "$env:tools\Cmder.exe"

# Window's Updates, too
Install-WindowsUpdate -acceptEula
